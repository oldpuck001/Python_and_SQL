fetchall.md

在 Python 中，curs.fetchall() 是sqlite3模組中Cursor物件的一個方法，主要用於從資料庫查詢中檢索所有結果行。以下是詳細的說明：

用法
rows = curs.fetchall()

功能
curs.fetchall() 會返回查詢結果中所有尚未提取的行，並將其以列表形式返回。
如果查詢結果為空或所有行都已被提取，則會返回空列表。

返回值
列表（list）：
每一行是查詢結果中的一筆記錄。
每一行通常是元組（tuple），其中包含來自資料庫表格的欄位值。

特點
1.一次性提取：
fetchall() 一次性提取所有剩餘的行，這可能會導致大量資料佔用記憶體。
如果結果集非常大，建議使用 fetchone() 或 fetchmany(size) 來分批提取。
   
2.配合SQL查詢：
必須在執行查詢語句（`SELECT`）後使用，否則結果為空。

注意事項
1.記憶體效率：
如果查詢結果非常大，fetchall() 可能會消耗過多記憶體並降低性能。建議使用 fetchone() 或 fetchmany() 進行分批提取。

2.查詢上下文：
必須在執行 SELECT 查詢後調用 fetchall()，否則沒有結果可以提取。

3.多次調用：
每次調用 fetchall() 時，只會返回查詢結果中尚未提取的部分。如果所有行都已提取，將返回空列表。