coverage.md

覆蓋率（coverage）是一個重要的測試概念。運行測試時，很可能達不到運行所有代碼的理想狀態。（實際上，最理想的情況是，使用各種可能的輸入檢查每種可能的程序狀態，但這根本不可能做到。）

優秀測試套件的目標之一是確保較高的覆蓋率，為此可使用覆蓋率工具，它們測量測試期間實際運行的代碼所佔的比例。「Python基礎教程（第3版）」編寫期間，沒有真正的Python標準覆蓋率工具，但如果在網上使用“Python測試覆蓋率”之類的關鍵字進行搜索，可找到一些相關的工具，其中之一是Python自帶的程序trace.py。

可從命令行運行程序trace.py（可以使用開關-m，這樣可避免查找文件的麻煩），也可將其作為模塊導入。要獲取有關其用法的幫助信息，可使用開關-help來運行它，也可在解釋器中導入這個模塊，再執行命令help(trace)。

至少開始的時候不用測試數百種輸入和狀態變量組合。在測試驅動的編程中，最重要的一點是在編碼期間反複地運行方法（函數或腳本），以不斷獲得有關你做法優劣的反饋。如果以後要進一步確信代碼是正確的（覆蓋率也很高），可隨時添加測試。

關鍵在於，如果沒有詳盡的測試集，可能無法及時發現新引入的bug，等發現時已不知道它們是怎麼引入的。因此，如果沒有良好的測試套件，要找出錯誤出在什麼地方將困難得多。看不到打過來的拳頭，你就無法避開它。要確保較高的測試覆蓋率，方法之一是秉承測試驅動開發的理念。只要能確保先編寫測試再編寫函數，就能肯定每個函數都是經過測試的。